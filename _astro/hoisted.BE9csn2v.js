import"./hoisted.C6e_9ZjQ.js";class a{constructor(){this.downloadCounts=new Map,this.initializeEventListeners(),this.trackPageView()}initializeEventListeners(){document.querySelectorAll(".download-btn").forEach(s=>{s.addEventListener("click",i=>this.handleDownload(i))});const e=document.getElementById("newsletter-subscribe"),n=document.getElementById("newsletter-email");e&&n&&(e.addEventListener("click",()=>this.handleNewsletterSignup()),n.addEventListener("keypress",s=>{s.key==="Enter"&&this.handleNewsletterSignup()})),document.querySelectorAll(".resource-card").forEach(s=>{s.addEventListener("mouseenter",()=>this.handleResourceHover(s))}),this.initializeSearch()}handleDownload(t){const e=t.currentTarget,n=e.href,o=this.extractResourceTitle(e);this.trackDownload(o,n),this.updateDownloadCount(o),this.showDownloadFeedback(e)}extractResourceTitle(t){return(t.closest(".resource-card")||t.closest(".featured-resource"))?.querySelector("h3, h4")?.textContent?.trim()||"Unknown Resource"}trackDownload(t,e){typeof gtag<"u"&&gtag("event","file_download",{file_name:t,file_url:e,engagement_type:"resource_access",content_type:"document"});const n=this.downloadCounts.get(t)||0;this.downloadCounts.set(t,n+1)}updateDownloadCount(t){console.log(`Download count updated for: ${t}`)}showDownloadFeedback(t){const e=t.textContent;t.textContent="⬇️ Downloading...",t.disabled=!0,setTimeout(()=>{t.textContent="✅ Downloaded",setTimeout(()=>{t.textContent=e,t.disabled=!1},2e3)},1e3)}handleResourceHover(t){const e=t.querySelector("h4")?.textContent?.trim();typeof gtag<"u"&&gtag("event","resource_interest",{resource_name:e,engagement_type:"hover_interaction",engagement_depth:"browse"})}handleNewsletterSignup(){const t=document.getElementById("newsletter-email"),e=document.getElementById("newsletter-subscribe"),n=t.value.trim();if(!this.isValidEmail(n)){this.showMessage("Please enter a valid email address","error");return}const o=e.textContent;e.textContent="⏳ Subscribing...",e.disabled=!0,setTimeout(()=>{this.showMessage("Successfully subscribed! Check your email for confirmation.","success"),t.value="",e.textContent=o,e.disabled=!1,typeof gtag<"u"&&gtag("event","newsletter_signup",{email:n,source:"resources_page",engagement_type:"high_intent"})},2e3)}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}showMessage(t,e){const n=document.createElement("div");n.className=`fixed top-4 right-4 px-6 py-4 rounded-lg shadow-lg z-50 ${e==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,n.textContent=t,document.body.appendChild(n),setTimeout(()=>{n.remove()},5e3)}initializeSearch(){console.log("Search functionality initialized")}trackPageView(){typeof gtag<"u"&&gtag("event","resources_page_view",{page_type:"resource_library",engagement_type:"resource_discovery"})}}document.addEventListener("DOMContentLoaded",()=>{new a,document.querySelectorAll('a[href*="preview"]').forEach(e=>{e.addEventListener("click",()=>{typeof gtag<"u"&&gtag("event","resource_preview",{resource_type:"document_preview",engagement_type:"detailed_review"})})});const t=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(n.target.style.opacity="1",n.target.style.transform="translateY(0)")})},{threshold:.1});document.querySelectorAll(".resource-category").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",t.observe(e)})});
