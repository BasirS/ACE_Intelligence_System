window.addEventListener("load",()=>{if("performance"in window){const n=performance.now();console.log(`Page loaded in ${n.toFixed(2)}ms`),typeof gtag<"u"&&gtag("event","page_load_time",{custom_parameter:Math.round(n)})}});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-interactive]").forEach(s=>{s.addEventListener("keydown",d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),s.click())})});const t=`Navigated to ${document.title}`;let e=document.getElementById("page-live-region");e||(e=document.createElement("div"),e.id="page-live-region",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",document.body.appendChild(e)),setTimeout(()=>{e.textContent=t},100)});window.addEventListener("error",n=>{console.error("JavaScript error:",n.error),typeof gtag<"u"&&gtag("event","exception",{description:n.error.message,fatal:!1})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("mobile-menu-button"),i=document.getElementById("mobile-menu"),t=document.getElementById("menu-icon-open"),e=document.getElementById("menu-icon-close"),s=document.getElementById("scroll-progress");if(n&&i&&t&&e){let r=!1;const l=()=>{r=!r,n.setAttribute("aria-expanded",r.toString()),r?(i.classList.remove("hidden"),i.classList.add("open"),t.classList.add("hidden"),e.classList.remove("hidden")):(i.classList.remove("open"),setTimeout(()=>{i.classList.add("hidden")},300),t.classList.remove("hidden"),e.classList.add("hidden"))};n.addEventListener("click",l),document.addEventListener("click",u=>{r&&!n.contains(u.target)&&!i.contains(u.target)&&l()}),document.addEventListener("keydown",u=>{u.key==="Escape"&&r&&(l(),n.focus())}),i.querySelectorAll("a").forEach(u=>{u.addEventListener("click",()=>{r&&l()})})}if(s){const r=()=>{const u=window.pageYOffset||document.documentElement.scrollTop,v=document.documentElement.scrollHeight-window.innerHeight,g=u/v*100;s.style.transform=`scaleX(${Math.min(g/100,1)})`};let l=!1;const f=()=>{l||(requestAnimationFrame(()=>{r(),l=!1}),l=!0)};window.addEventListener("scroll",f,{passive:!0}),r()}document.querySelectorAll('a[href*="#"]').forEach(r=>{r.addEventListener("click",l=>{const f=r.getAttribute("href");if(f&&f.includes("#")){const u=f.split("#")[1],v=document.getElementById(u);v&&(l.preventDefault(),i&&!i.classList.contains("hidden")&&i.classList.add("hidden"),v.scrollIntoView({behavior:"smooth",block:"start"}),v.focus())}})});let c=0,o=!0;const a=document.querySelector("header"),m=()=>{const r=window.pageYOffset;r>c&&r>100&&o?a&&(a.style.transform="translateY(-100%)",o=!1):r<c&&!o&&a&&(a.style.transform="translateY(0)",o=!0),c=r};window.innerWidth>=1024&&window.addEventListener("scroll",()=>{window.ticking||(requestAnimationFrame(()=>{m(),window.ticking=!1}),window.ticking=!0)},{passive:!0}),document.querySelectorAll("nav a").forEach(r=>{r.addEventListener("focus",()=>{r.scrollIntoView({behavior:"smooth",block:"nearest"})})})});document.addEventListener("DOMContentLoaded",()=>{const n={threshold:.1,rootMargin:"0px 0px -50px 0px"},i=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&a.target.classList.add("in-view")})},n);document.querySelectorAll(".fade-in").forEach(o=>i.observe(o));const e=document.querySelector("video");e&&(new IntersectionObserver(a=>{a.forEach(m=>{m.isIntersecting?e.play():e.pause()})}).observe(e),e.addEventListener("error",()=>{console.warn("Hero video failed to load"),e.style.display="none"})),document.querySelectorAll('a[href^="#"]').forEach(o=>{o.addEventListener("click",a=>{a.preventDefault();const m=document.querySelector(o.getAttribute("href"));m&&m.scrollIntoView({behavior:"smooth",block:"start"})})}),document.querySelectorAll("a[href]").forEach(o=>{o.addEventListener("click",()=>{const a=o.textContent?.trim(),m=o.getAttribute("href");typeof window.gtag<"u"&&window.gtag("event","hero_cta_click",{cta_text:a,cta_destination:m,hero_variant:document.querySelector("section")?.className.includes("personal")?"personal":"default"})})});const c=document.querySelector("section");c&&c.addEventListener("keydown",o=>{if(o.key==="Enter"&&o.target===c){const a=c.querySelector("a");a&&a.click()}}),"performance"in window&&window.addEventListener("load",()=>{const o=performance.now();console.log(`Hero section loaded in ${o.toFixed(2)}ms`)})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-interactive]").forEach(i=>{i.addEventListener("keydown",t=>{if(t.key==="Enter"||t.key===" "){t.preventDefault();const e=i.querySelector("a, button, [onclick]");e?e.click():i.dispatchEvent(new CustomEvent("cardActivated",{bubbles:!0,detail:{card:i}}))}}),i.addEventListener("click",t=>{const e=t.target;if(e.tagName==="A"||e.tagName==="BUTTON"||e.hasAttribute("onclick"))return;const s=i.querySelector("a, button");s&&s!==e&&(t.preventDefault(),s.click())})})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("button, a[data-interactive]").forEach(t=>{t.addEventListener("click",e=>{if(t.hasAttribute("disabled")||t.classList.contains("disabled")){e.preventDefault();return}const s=t.getAttribute("data-analytics");s&&typeof window.gtag<"u"&&window.gtag("event","button_click",{button_text:t.textContent?.trim(),button_variant:s}),window.matchMedia("(prefers-reduced-motion: reduce)").matches||i(t,e)}),t.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),t.classList.add("active"),setTimeout(()=>{t.classList.remove("active")},150),t.click())})});function i(t,e){const s=document.createElement("span"),d=t.getBoundingClientRect(),c=Math.max(d.width,d.height),o=e.clientX-d.left-c/2,a=e.clientY-d.top-c/2;s.style.cssText=`
        position: absolute;
        width: ${c}px;
        height: ${c}px;
        left: ${o}px;
        top: ${a}px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        transform: scale(0);
        animation: ripple 600ms linear;
        pointer-events: none;
        z-index: 10;
      `,window.getComputedStyle(t).position==="static"&&(t.style.position="relative"),t.style.overflow="hidden",t.appendChild(s),s.addEventListener("animationend",()=>{t.removeChild(s)})}});if(!document.getElementById("button-animations")){const n=document.createElement("style");n.id="button-animations",n.textContent=`
      @keyframes ripple {
        to {
          transform: scale(4);
          opacity: 0;
        }
      }

      button.active,
      a.active {
        transform: scale(0.98);
      }
    `,document.head.appendChild(n)}
